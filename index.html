<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apprentissage des Hiragana</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üàµ Apprentissage des Hiragana</h1>
            <p>Ma√Ætrisez les hiragana avec ces quiz interactifs</p>
        </header>

        <!-- Configuration du Quiz -->
        <div class="config-section" id="configSection">
            <h2>Configuration du Quiz</h2>
            <div class="config-card">
                <!-- S√©lection du niveau de difficult√© -->
                <div class="config-row">
                    <label>Niveau de difficult√© :</label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn" data-level="beginner">
                            üå± D√©butant<br><small>Voyelles de base</small>
                        </button>
                        <button class="difficulty-btn active" data-level="intermediate">
                            üìö Interm√©diaire<br><small>Consonnes simples</small>
                        </button>
                        <button class="difficulty-btn" data-level="advanced">
                            üéì Avanc√©<br><small>Tous les hiragana</small>
                        </button>
                    </div>
                </div>

                <!-- Pratique par famille -->
                <div class="config-row">
                    <label>Pratique cibl√©e :</label>
                    <div class="family-checkboxes" id="familyCheckboxes">
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" value="all" id="allFamilies" checked>
                                <span class="checkmark"></span>
                                Tous les hiragana
                            </label>
                        </div>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" value="vowels">
                                <span class="checkmark"></span>
                                Voyelles („ÅÇ, „ÅÑ, „ÅÜ, „Åà, „Åä)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="k-series">
                                <span class="checkmark"></span>
                                S√©rie K („Åã, „Åç, „Åè, „Åë, „Åì)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="s-series">
                                <span class="checkmark"></span>
                                S√©rie S („Åï, „Åó, „Åô, „Åõ, „Åù)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="t-series">
                                <span class="checkmark"></span>
                                S√©rie T („Åü, „Å°, „Å§, „Å¶, „Å®)
                            </label>
                        </div>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" value="n-series">
                                <span class="checkmark"></span>
                                S√©rie N („Å™, „Å´, „Å¨, „Å≠, „ÅÆ)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="h-series">
                                <span class="checkmark"></span>
                                S√©rie H („ÅØ, „Å≤, „Åµ, „Å∏, „Åª)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="m-series">
                                <span class="checkmark"></span>
                                S√©rie M („Åæ, „Åø, „ÇÄ, „ÇÅ, „ÇÇ)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="y-series">
                                <span class="checkmark"></span>
                                S√©rie Y („ÇÑ, „ÇÜ, „Çà)
                            </label>
                        </div>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" value="r-series">
                                <span class="checkmark"></span>
                                S√©rie R („Çâ, „Çä, „Çã, „Çå, „Çç)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="w-series">
                                <span class="checkmark"></span>
                                S√©rie W („Çè, „Çí, „Çì)
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" value="mistakes">
                                <span class="checkmark"></span>
                                R√©viser mes erreurs
                            </label>
                        </div>
                    </div>
                    <small class="help-text">Cliquez pour s√©lectionner/d√©s√©lectionner les familles √† pratiquer</small>
                </div>
                
                <div class="config-row">
                    <label for="quizCount">Nombre d'hiragana dans le quiz :</label>
                    <input type="number" id="quizCount" min="5" max="100" value="10">
                    <small class="help-text">Si le nombre d√©passe les hiragana disponibles, certains peuvent se r√©p√©ter</small>
                </div>

                <!-- Mode de jeu -->
                <div class="config-row">
                    <label>Mode de jeu :</label>
                    <div class="game-mode-buttons">
                        <button class="game-mode-btn active" data-mode="normal">
                            üìù Normal
                        </button>
                        <button class="game-mode-btn" data-mode="timed">
                            ‚è±Ô∏è Chronom√®tre
                        </button>
                        <button class="game-mode-btn" data-mode="survival">
                            üí™ Survie
                        </button>
                    </div>
                </div>

                <!-- Options du mode chronom√®tre -->
                <div class="config-row hidden" id="timedOptions">
                    <label for="timeLimit">Temps par question (secondes) :</label>
                    <input type="number" id="timeLimit" min="3" max="30" value="10">
                </div>
                
                <button class="start-quiz-btn" id="startQuizBtn">Commencer le Quiz</button>
            </div>
        </div>

        <!-- Section Quiz -->
        <div class="quiz-section hidden" id="quizSection">
            <div class="quiz-header">
                <div class="quiz-progress">
                    <span id="currentQuestion">1</span> / <span id="totalQuestions">10</span>
                </div>
                <div class="quiz-score">
                    Score: <span id="score">0</span>
                </div>
                <div class="timer-display hidden" id="timerDisplay">
                    ‚è±Ô∏è <span id="timeRemaining">10</span>s
                </div>
                <div class="survival-streak hidden" id="survivalStreak">
                    üî• S√©rie: <span id="streakCount">0</span>
                </div>
            </div>

            <div class="quiz-card">
                <div class="question-type" id="questionType">Hiragana ‚Üí Romanji</div>
                <div class="question" id="question">„ÅÇ</div>
                
                <!-- Zone de choix multiples -->
                <div class="multiple-choice" id="multipleChoice">
                    <button class="choice-btn" data-choice="0"></button>
                    <button class="choice-btn" data-choice="1"></button>
                    <button class="choice-btn" data-choice="2"></button>
                </div>
                
                <div class="feedback hidden" id="feedback"></div>
            </div>

            <div class="quiz-actions">
                <button class="secondary-btn" id="skipQuestion">Passer</button>
                <button class="secondary-btn" id="hintButton">üí° Indice</button>
                <button class="secondary-btn" id="quitQuiz">Quitter</button>
            </div>
        </div>

        <!-- R√©sultats -->
        <div class="results-section hidden" id="resultsSection">
            <div class="results-card">
                <h2>üéâ Quiz Termin√© !</h2>
                <div class="final-score">
                    <span id="finalScore">8</span> / <span id="finalTotal">10</span>
                </div>
                <div class="score-percentage" id="scorePercentage">80%</div>
                
                <!-- Statistiques d√©taill√©es -->
                <div class="detailed-stats">
                    <div class="stat-item">
                        <span class="stat-label">Temps moyen :</span>
                        <span class="stat-value" id="averageTime">3.2s</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Meilleure s√©rie :</span>
                        <span class="stat-value" id="bestStreak">5</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">XP gagn√©s :</span>
                        <span class="stat-value" id="xpGained">+85 XP</span>
                    </div>
                </div>
                
                <div class="performance-message" id="performanceMessage">
                    Excellent travail !
                </div>

                <!-- Badges gagn√©s -->
                <div class="badges-earned hidden" id="badgesEarned">
                    <h3>üèÜ Badges gagn√©s :</h3>
                    <div id="badgesList"></div>
                </div>

                <div class="results-actions">
                    <button class="primary-btn" id="newQuizBtn">Nouveau Quiz</button>
                    <button class="secondary-btn" id="reviewMistakes">Revoir les erreurs</button>
                    <button class="secondary-btn" id="viewStatsBtn">üìä Statistiques</button>
                </div>
            </div>
        </div>

        <!-- Section de r√©vision des erreurs -->
        <div class="review-section hidden" id="reviewSection">
            <div class="review-card">
                <h2>üìö R√©vision des erreurs</h2>
                <div id="mistakesList"></div>
                <button class="primary-btn" id="backToResults">Retour aux r√©sultats</button>
            </div>
        </div>

        <!-- Section Statistiques -->
        <div class="stats-section hidden" id="statsSection">
            <div class="stats-card">
                <h2>üìä Vos Statistiques</h2>
                
                <div class="profile-info">
                    <div class="level-info">
                        <span class="level-badge">Niveau <span id="userLevel">1</span></span>
                        <div class="xp-bar">
                            <div class="xp-progress" id="xpProgress"></div>
                        </div>
                        <span class="xp-text"><span id="currentXP">85</span> / <span id="nextLevelXP">200</span> XP</span>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Quiz termin√©s</h3>
                        <span class="big-number" id="totalQuizzes">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>Taux de r√©ussite</h3>
                        <span class="big-number" id="successRate">0%</span>
                    </div>
                    <div class="stat-card">
                        <h3>S√©rie maximale</h3>
                        <span class="big-number" id="maxStreak">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>Hiragana ma√Ætris√©s</h3>
                        <span class="big-number" id="masteredCount">0</span>
                    </div>
                </div>

                <div class="hiragana-mastery">
                    <h3>Ma√Ætrise par hiragana</h3>
                    <div id="masteryGrid"></div>
                </div>

                <div class="stats-actions">
                    <button class="secondary-btn" id="resetStatsBtn">üîÑ R√©initialiser</button>
                    <button class="primary-btn" id="backFromStats">Retour</button>
                </div>
            </div>
        </div>

        <!-- Tableau de r√©f√©rence -->
        <div class="reference-section hidden" id="referenceSection">
            <div class="reference-card">
                <h2>üìã Tableau de R√©f√©rence</h2>
                <div class="hiragana-table" id="hiraganaTable"></div>
                <button class="primary-btn" id="backFromReference">Retour</button>
            </div>
        </div>

        <!-- Cartes m√©moire -->
        <div class="flashcards-section hidden" id="flashcardsSection">
            <div class="flashcard-container">
                <h2>üÉè Cartes M√©moire</h2>
                <div class="flashcard" id="flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <div class="card-character">„ÅÇ</div>
                        </div>
                        <div class="flashcard-back">
                            <div class="card-romanji">a</div>
                        </div>
                    </div>
                </div>
                <div class="flashcard-controls">
                    <button class="secondary-btn" id="prevCard">‚¨Ö Pr√©c√©dent</button>
                    <button class="secondary-btn" id="flipCard">üîÑ Retourner</button>
                    <button class="secondary-btn" id="nextCard">Suivant ‚û°</button>
                </div>
                <div class="flashcard-progress">
                    <span id="cardProgress">1 / 46</span>
                </div>
                <button class="primary-btn" id="backFromFlashcards">Retour</button>
            </div>
        </div>

        <!-- Menu principal avec navigation -->
        <div class="main-menu" id="mainMenu">
            <button class="menu-btn" id="referenceBtn">üìã Tableau de R√©f√©rence</button>
            <button class="menu-btn" id="flashcardsBtn">üÉè Cartes M√©moire</button>
            <button class="menu-btn" id="statsMenuBtn">üìä Mes Statistiques</button>
        </div>
    </div>

    <script src="hiragana-data-fixed.js"></script>
    <script src="script-extended.js"></script>
</body>
</html>
